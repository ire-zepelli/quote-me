import{r as u}from"./index-Cvzl7uDc.js";function d(e,t){return t.type==="SEND"?{data:null,error:null,status:"pending"}:t.type==="SUCCESS"?{data:t.responseData,error:null,status:"completed"}:t.type==="ERROR"?{data:null,error:t.errorMessage,status:"completed"}:e}function l(e,t=!1){const[o,n]=u.useReducer(d,{status:t?"pending":null,data:null,error:null});return{sendRequest:u.useCallback(async function(r){n({type:"SEND"});try{const c=await e(r);n({type:"SUCCESS",responseData:c})}catch(c){n({type:"ERROR",errorMessage:c.message||"Something went wrong!"})}},[e]),...o}}const a="https://react-http-55ecf-default-rtdb.asia-southeast1.firebasedatabase.app";async function m(){const e=await fetch(`${a}/quotes.json`),t=await e.json();if(!e.ok)throw new Error(t.message||"Could not fetch quotes.");const o=[];for(const n in t){const s={id:n,...t[n]};o.push(s)}return o}async function p(e){const t=await fetch(`${a}/quotes/${e}.json`),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not fetch quote.");return{id:e,...o}}async function f(e){const t=await fetch(`${a}/quotes.json`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not create quote.");return null}async function h(e){const t=await fetch(`${a}/comments/${e.quoteId}.json`,{method:"POST",body:JSON.stringify(e.commentData),headers:{"Content-Type":"application/json"}}),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not add comment.");return{commentId:o.name}}async function w(e){const t=await fetch(`${a}/comments/${e}.json`),o=await t.json();if(!t.ok)throw new Error(o.message||"Could not get comments.");const n=[];for(const s in o){const r={id:s,...o[s]};n.push(r)}return n}export{p as a,f as b,h as c,w as d,m as g,l as u};
